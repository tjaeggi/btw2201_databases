<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://tjaeggi.github.io/btw2201_databases/le11/ue11-04/" rel="canonical"/>
<link href="../ue11-03/" rel="prev"/>
<link href="../../le12/" rel="next"/>
<link href="../../assets/LearningServicesLogo.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.49" name="generator"/>
<title>UE11-04 Integrierte Aufgabe - WING - btw2201-Databases</title>
<link href="../../assets/stylesheets/main.6f8fc17f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Nunito";--md-code-font:"Roboto Mono"}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<link href="https://unpkg.com/katex@0/dist/katex.min.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="deep-orange" data-md-color-primary="light-blue" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#ue11-04-integrierte-aufgabe-rdbms-mysql-tsdb-influxdb">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="WING - btw2201-Databases" class="md-header__button md-logo" data-md-component="logo" href="../.." title="WING - btw2201-Databases">
<img alt="logo" src="../../assets/LearningServicesLogo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            WING - btw2201-Databases
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              UE11-04 Integrierte Aufgabe
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Dark mode" class="md-option" data-md-color-accent="deep-orange" data-md-color-media="" data-md-color-primary="light-blue" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
<input aria-label="Light mode" class="md-option" data-md-color-accent="deep-orange" data-md-color-media="" data-md-color-primary="light-blue" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="WING - btw2201-Databases" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="WING - btw2201-Databases">
<img alt="logo" src="../../assets/LearningServicesLogo.png"/>
</a>
    WING - btw2201-Databases
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    ABOUT THIS WEBSITE
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    LE01-CSVs mit Python
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            LE01-CSVs mit Python
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le01/ue01-1/">
<span class="md-ellipsis">
    UE01-1-Aufgaben
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le01/Loesungsvorschlaege_ue01-1/">
<span class="md-ellipsis">
    UE01-1-Lösungsvorschläge
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    LE02-SELECT Abfragen
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            LE02-SELECT Abfragen
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le02/UE02-1/">
<span class="md-ellipsis">
    UE02-Chinook-DB
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le02/Loesungsvorschlaege_UE02-1/">
<span class="md-ellipsis">
    UE02-1-Aufgaben I
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le02/UE02-2/">
<span class="md-ellipsis">
    UE02-2-Aufgaben II
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    LE03-Weiterführende SELECTs
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            LE03-Weiterführende SELECTs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le03/UE03-01-AB/">
<span class="md-ellipsis">
    UE03-1-AB-Ranking Table und View
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le03/UE03-2/">
<span class="md-ellipsis">
    UE03-2-Datum und Zeit
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le03/UE03-3/">
<span class="md-ellipsis">
    UE03-3-CSV in SQLite
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le03/UE03-4/">
<span class="md-ellipsis">
    UE03-4-SQL-Abfragen Strasserverz.
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    LE04-SQL und Python
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            LE04-SQL und Python
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le04/le04-einfpythonsqlite/">
<span class="md-ellipsis">
    Einführung Python mit SQLite
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le04/le04-einfbindings/">
<span class="md-ellipsis">
    Einführung Bindings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le04/le04-einfcrud/">
<span class="md-ellipsis">
    Einführung CRUD
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le04/ue04-01/">
<span class="md-ellipsis">
    UE04-01
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le04/ue04-02/">
<span class="md-ellipsis">
    UE04-02
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le04/ue04-03/">
<span class="md-ellipsis">
    UE04-03
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le04/ue04-04/">
<span class="md-ellipsis">
    UE04-04
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le05/">
<span class="md-ellipsis">
    LE05-Docker-MySQL-Relationenmodell
  </span>
</a>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            LE05-Docker-MySQL-Relationenmodell
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le05/instMySQL/">
<span class="md-ellipsis">
    DOCKER-Installation MySQL-phpmyadmin
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le05/useful-docker-commands/">
<span class="md-ellipsis">
    Nützliche Docker-Befehle
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le05/ue05-01/">
<span class="md-ellipsis">
    UE05-01-MySQL und erste Datenbank
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le05/ue05-02/">
<span class="md-ellipsis">
    UE05-02-Datentransfer von SQLite-DB nach MySQL
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le05/ue05-03/">
<span class="md-ellipsis">
    UE05-03-Relationenmodell-PK-FK-ref.Integrität
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le06/">
<span class="md-ellipsis">
    LE06-Normalformen/ERM
  </span>
</a>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            LE06-Normalformen/ERM
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le06/ue06-01/">
<span class="md-ellipsis">
    UE06-01-Funktionale und Transitive Abhängigkeit - 3NF - SQL
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le06/ue06-02/">
<span class="md-ellipsis">
    UE06-02-Kardinalität-ERM
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le06/ue06-03/">
<span class="md-ellipsis">
    UE06-03-Schuldatenbank in MySQL
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le07/">
<span class="md-ellipsis">
    LE07-REPETITION
  </span>
</a>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            LE07-REPETITION
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le07/ue07-01/">
<span class="md-ellipsis">
    UE07-01-Übungen
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../lekn/">
<span class="md-ellipsis">
    Kompetenznachweis
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            Kompetenznachweis
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_10" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le08/">
<span class="md-ellipsis">
    LE08-Table-JOINs
  </span>
</a>
<label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
            LE08-Table-JOINs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le08/ue08-01/">
<span class="md-ellipsis">
    UE08-01-INNER JOIN
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le08/ue08-02/">
<span class="md-ellipsis">
    UE08-02-LEFT-/RIGHT-JOIN
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le08/ue08-03/">
<span class="md-ellipsis">
    UE08-03-Unterabfragen
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le08/ue08-04/">
<span class="md-ellipsis">
    UE08-04-INSERT-SELECT
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_11" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le09/">
<span class="md-ellipsis">
    LE09-INDEX-Transaktion
  </span>
</a>
<label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_11_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
            LE09-INDEX-Transaktion
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le09/ue09-01/">
<span class="md-ellipsis">
    UE09-01-INDEX
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le09/index-perf-messung/">
<span class="md-ellipsis">
    INDEX-PERFORMANCE
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le09/ue09-02/">
<span class="md-ellipsis">
    UE09-02-Transaktion mit SQL
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le09/ue09-03/">
<span class="md-ellipsis">
    UE09-03-Transaktion mit Python
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le09/ue09-04/">
<span class="md-ellipsis">
    UE09-04-Chinook-Python-ERM
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le09/ue09-05/">
<span class="md-ellipsis">
    MySQL-Python: Verbindungsvarianten
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_12" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le10/">
<span class="md-ellipsis">
    LE10-ORM und Einstieg in PostgreSQL
  </span>
</a>
<label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_12_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_12">
<span class="md-nav__icon md-icon"></span>
            LE10-ORM und Einstieg in PostgreSQL
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le10/PeeWee_Example/">
<span class="md-ellipsis">
    PeeWee-Einführungsbeispiel
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le10/ue10-01/">
<span class="md-ellipsis">
    UE10-01 Aufgabe mit PeeWee Teil1
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le10/ue10-02/">
<span class="md-ellipsis">
    UE10-02 Aufgabe mit PeeWee Teil2
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le10/ue10-03/">
<span class="md-ellipsis">
    UE10-03 eigenes ORM erstellen
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le10/postgresql-install/">
<span class="md-ellipsis">
    PostgreSQL installieren
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le10/python-postgresql/">
<span class="md-ellipsis">
    Python mit PostgreSQL verbinden
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le10/ue10-04/">
<span class="md-ellipsis">
    UE10-04 Mit PostgreSQL arbeiten
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_13" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    LE11-Timeseries Datenbanken
  </span>
</a>
<label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_13_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_13">
<span class="md-nav__icon md-icon"></span>
            LE11-Timeseries Datenbanken
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../tsdb-einfuehrung/">
<span class="md-ellipsis">
    Einführung TSDB und InfluxDB
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../inst-influxdb-docker/">
<span class="md-ellipsis">
    InfluxDB installieren
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../influxdb-einfuehrungsbeispiel/">
<span class="md-ellipsis">
    Einführungsbeispiel
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ue11-01/">
<span class="md-ellipsis">
    UE11-01
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ue11-02/">
<span class="md-ellipsis">
    UE11-02
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ue11-03/">
<span class="md-ellipsis">
    UE11-03 Option
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    UE11-04 Integrierte Aufgabe
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    UE11-04 Integrierte Aufgabe
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#problemstellung">
<span class="md-ellipsis">
      Problemstellung
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aufgaben">
<span class="md-ellipsis">
      Aufgaben
    </span>
</a>
<nav aria-label="Aufgaben" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#beispiele-von-sensoren">
<span class="md-ellipsis">
      Beispiele von Sensoren
    </span>
</a>
<nav aria-label="Beispiele von Sensoren" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pir">
<span class="md-ellipsis">
      PIR
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bmp280">
<span class="md-ellipsis">
      BMP280
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bme680">
<span class="md-ellipsis">
      BME680
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#am2302">
<span class="md-ellipsis">
      AM2302
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bh1750">
<span class="md-ellipsis">
      BH1750
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tcs34725">
<span class="md-ellipsis">
      TCS34725
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mpu-9250">
<span class="md-ellipsis">
      MPU-9250
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#senseair-k30">
<span class="md-ellipsis">
      Senseair K30
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#losungsvorschlage">
<span class="md-ellipsis">
      LÖSUNGSVORSCHLÄGE
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_14" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le12/">
<span class="md-ellipsis">
    LE12-NoSQL Datenbanken
  </span>
</a>
<label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_14_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_14">
<span class="md-nav__icon md-icon"></span>
            LE12-NoSQL Datenbanken
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le12/install-3nodecassandraCluster/">
<span class="md-ellipsis">
    Installation Apache Cassandra als 3-Node-Cluster
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le12/ApacheCassandraTutorial/">
<span class="md-ellipsis">
    Tutorial
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le12/NoSQL_Aufgabe/">
<span class="md-ellipsis">
    Aufgabe
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_15" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le13/">
<span class="md-ellipsis">
    LE13-Repetitionslektion
  </span>
</a>
<label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_15_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_15">
<span class="md-nav__icon md-icon"></span>
            LE13-Repetitionslektion
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../le13/ue13-praxis/">
<span class="md-ellipsis">
    PRAKTISCHE AUFGABEN
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../le13/ue13-theorie/">
<span class="md-ellipsis">
    THEORETISCHE AUFGABEN
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_16" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../le14/">
<span class="md-ellipsis">
    LE14-Prüfungsvorbereitung
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_16_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_16">
<span class="md-nav__icon md-icon"></span>
            LE14-Prüfungsvorbereitung
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_17" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../schlusspruefung/">
<span class="md-ellipsis">
    Schlussprüfung
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_17_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_17">
<span class="md-nav__icon md-icon"></span>
            Schlussprüfung
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#problemstellung">
<span class="md-ellipsis">
      Problemstellung
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aufgaben">
<span class="md-ellipsis">
      Aufgaben
    </span>
</a>
<nav aria-label="Aufgaben" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#beispiele-von-sensoren">
<span class="md-ellipsis">
      Beispiele von Sensoren
    </span>
</a>
<nav aria-label="Beispiele von Sensoren" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pir">
<span class="md-ellipsis">
      PIR
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bmp280">
<span class="md-ellipsis">
      BMP280
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bme680">
<span class="md-ellipsis">
      BME680
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#am2302">
<span class="md-ellipsis">
      AM2302
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bh1750">
<span class="md-ellipsis">
      BH1750
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tcs34725">
<span class="md-ellipsis">
      TCS34725
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mpu-9250">
<span class="md-ellipsis">
      MPU-9250
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#senseair-k30">
<span class="md-ellipsis">
      Senseair K30
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#losungsvorschlage">
<span class="md-ellipsis">
      LÖSUNGSVORSCHLÄGE
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="ue11-04-integrierte-aufgabe-rdbms-mysql-tsdb-influxdb">UE11-04-Integrierte Aufgabe RDBMS (MySQL) - TSDB (InfluxDB)</h1>
<h2 id="problemstellung"><strong>Problemstellung</strong></h2>
<p>Nehme an, Du arbeitest als Wirtschaftsingenieur in einem Industrieunternehmen mit mehreren Standorten.
Du bist unter anderem verantwortlich für die Gebäudeautomation.
Dazu werden viele Sensordaten verarbeitet um folgende Bereiche optimal zu betreiben:</p>
<ol>
<li>intelligente Lichtsteuerung der Gebäude und Räumlichkeiten</li>
<li>Heizung, Ventilation, Klima</li>
<li>Zugangskontrollen</li>
<li>Unterhalt und Wartung von Anlagen</li>
<li>Lagermanagement</li>
<li>Energiemanagement</li>
<li>Remote Monitoring von Produktionsanlagen</li>
</ol>
<p>Die Verwaltung der Sensorsysteme soll in einem RDBMS verwaltet werden. Die erzeugten Sensorwerte werden in einer TSDB (InfluxDB) gespeichert.</p>
<p>Für die Verwaltung der Sensorsysteme (statische Verwaltung)  gelten folgende Anforderungen:</p>
<ul>
<li>Ein Sensor kann einen oder auch mehrere Sensorwerte registrieren. Bsp: BME280 (Temperatur, Feuchtigkeit und Luftdruck) </li>
<li>Jeder Sensorwert kann mit einer physikalischen Einheit oder einem boolschen Wert beschrieben werden.</li>
<li>Jeder Sensor hat Eigenschaften, welche in einem technischen Datenblatt (pdf oder http-Link) beschrieben sind.</li>
<li>Für einen Sensor gibt es eine Typenbezeichnung, einen Hersteller und einen Lieferanten.</li>
<li>Ein Sensorelement hat einen Preis und ein Inbetriebnahmedatum. Es kann aber auch inaktiv in einem Lager liegen. </li>
<li>Für jeden Sensorwert kann der Ort der Erfassung eindeutig identifiziert werden</li>
<li>Ein Standort ist gekennzeichnet durch ein Gebäude mit Adresse und Raumnummer. Eine Standortbeschreibung 
  kann auch <strong>keine</strong> postalische Adresse sein.  </li>
<li>Ein Sensorwert kann einem der 7 Bereiche zugeordnet werden.</li>
</ul>
<h2 id="aufgaben"><strong>Aufgaben</strong></h2>
<p>Die Aufgaben können im Team bearbeitet werden und ist eine gute Übung für die Prüfung am Ende des Semesters.</p>
<p>a. Erstelle dazu ein <strong>konzeptionelles ERM</strong>.</p>
<p>b. Erstelle ein <strong>logisches ERM</strong> mit Beispieldatensätzen.</p>
<p>c. Die Daten der Sensorinfrastruktur werden in MySQL verwaltet und die Sensorwerte in InfluxDB.</p>
<p>d. Erstelle die <strong>Tabellen mit SQL</strong> mit <strong>Beispiel-Datensätzen</strong></p>
<p>e. Wie gedenkst du die Zeitserien der einzelnen Sensorwerte in InfluxDB mit den Eigenschaften der Sensoren zu verknüfen?</p>
<p>Bsp: Wenn Sensorwerte fehlerhaft sind oder gänzlich fehlen: wie identifizieren sie den Standort der Sensorkomponente? Wie identifizieren sie den Sensortyp, den Einbauort? Zu welcher Sensorkomponente gehört ein einzelner Sensorwert? Welche anderen Sensoren haben denselben Einbauort?</p>
<p>f. Erstelle zu den Fragen aus e. enstsprechende <strong>SQL&amp;FLUX-Abfragen</strong>.</p>
<p>g. Präsentiert das ERM und eure Gedanken zu dieser Problemstellung der Klasse</p>
<h3 id="beispiele-von-sensoren"><strong>Beispiele von Sensoren</strong></h3>
<p>Hier einige Sensoren als Beispiele. Beachten Sie, dass viele Sensorkomponenten mehrere Sensorsignale liefern. Ihr BMP280 vom ESP32-Kit liefert beispielsweise zwei Signale: Temperatur in °C und Luftdruck in Pascal. </p>
<p>In einer Datenbank, müssen wir die Signale als Einzelsignale identifizieren können. Das bedeutet, dass es möglich sein muss, ein einzelnes Sensorsignal einer Sensorkomponente zuzuweisen. Dies ist dann von Bedeutung, wenn wir mit einem Signal Probleme haben. Dann sollten wir wissen, welche Komponente betroffen ist.</p>
<h4 id="pir">PIR</h4>
<p>Motion Detector</p>
<p>misst:</p>
<ul>
<li>Wert 1 bei Bewegung, Wert 0 keine Bewegung</li>
</ul>
<p><a href="https://projecthub.arduino.cc/electronicsfan123/interfacing-arduino-uno-with-pir-motion-sensor-593b6b" target="_blank">Datasheet</a></p>
<h4 id="bmp280">BMP280</h4>
<p>misst:</p>
<ul>
<li>Air-Pressure in Pascal</li>
<li>Temperature in °C</li>
</ul>
<p><a href="https://cdn-shop.adafruit.com/datasheets/BST-BMP280-DS001-11.pdf" target="_blank">Datasheet</a></p>
<h4 id="bme680">BME680</h4>
<p>misst:</p>
<ul>
<li>Air-Pressure in Pascal</li>
<li>Temperature in °C</li>
<li>Humidity in rel. %</li>
<li>Gas</li>
</ul>
<p><a href="https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme680-ds001.pdf" target="_blank">Datasheet</a></p>
<h4 id="am2302">AM2302</h4>
<p>misst:</p>
<ul>
<li>Temperature in °C</li>
<li>Humidity in rel. %</li>
</ul>
<p><a href="https://cdn-shop.adafruit.com/datasheets/Digital+humidity+and+temperature+sensor+AM2302.pdf" target="_blank">Datasheet</a></p>
<h4 id="bh1750">BH1750</h4>
<p>misst:</p>
<ul>
<li>Luminosity in LUX</li>
</ul>
<p><a href="https://cdn-learn.adafruit.com/downloads/pdf/adafruit-bh1750-ambient-light-sensor.pdf" target="_blank">Datasheet</a></p>
<h4 id="tcs34725">TCS34725</h4>
<p>misst:</p>
<ul>
<li>RGB color sensor. Output as RGB-Hex-Value, eg:  <code>#F5151B</code></li>
</ul>
<p><a href="https://www.waveshare.com/wiki/TCS34725_Color_Sensor" target="_blank">Datasheet</a></p>
<h4 id="mpu-9250">MPU-9250</h4>
<p>Gyroscope oder Inertial Motion Unit</p>
<p>misst:</p>
<ul>
<li>gibt Werte für yaw, pitch und roll</li>
</ul>
<p><a href="https://invensense.tdk.com/wp-content/uploads/2015/02/PS-MPU-9250A-01-v1.1.pdf" target="_blank">Datasheet</a></p>
<p><a href="https://projecthub.arduino.cc/paulplusx/using-the-mpu9250-to-get-real-time-motion-data-7bdefc" target="_blank">Bild zu Yaw, Pitch und Roll</a></p>
<h4 id="senseair-k30">Senseair K30</h4>
<p>CO2-Sensor</p>
<p>misst:</p>
<ul>
<li>CO2 Werte in ppm</li>
</ul>
<p><a href="https://rmtplusstoragesenseair.blob.core.windows.net/docs/publicerat/PSH0131.pdf" target="_blank">Datasheet</a></p>
<h2 id="losungsvorschlage"><strong>LÖSUNGSVORSCHLÄGE</strong></h2>
<details class="success">
<summary><strong>Schritt 1</strong>: Konzeptionelles ERM</summary>
<p>Das ist eine mögliche Darstellungsform mit einem Tool (hier draw.io). Das Diagramm kann aber auch von Hand erstellt werden. Dabei werden die Entitäten als Kasten und die Attribute als Bubbles dargestellt.
Mit PK und FK werden die Keys <em>Primary Key</em> und <em>Foreign Key</em> bezeichnet.</p>
<p>Beachte hier im Beispiel die Verbindung <code>Component</code> - <code>Location</code>. Diese Beziehung realisiert <em>verbaut in</em> mit dem Attribut <em>startDateOperation</em>. Dieses Merkmal ist ein <strong>Beziehungsattribut</strong>, welches wir in der Verbindungstabelle aufnehmen müssen! Die Verbindungstabellen, also die Auflösung von <code>m:m</code>-Beziehungen, nehmen wir im <em>logischen ERM</em> vor.</p>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/sensors_konzERM.drawio.png"><img alt="Image title" src="../../img/sensors_konzERM.drawio.png" width="600"/></a>
<figcaption>konzeptionelles ERM</figcaption>
</figure></p>
</details>
<details class="success">
<summary><strong>Schritt 2</strong>: Logisches ERM</summary>
<p>Das logische ERM ist die Vorgabe für das physische ERM. Hier werden die <code>m:m</code>-Beziehungen mit Verbindungstabellen aufgelöst. Alle PK und FK werden ergänzt und die Attribute komplett aufgenommen.
Eine gute Praxis ist in diesem Schritt auch die Darstellung von Demo-Datensätzen. Dies ermöglicht dem ERM-Designer seine ERM-Struktur zu überprüfen und hilft dem Betrachter das ERM schneller zu verstehen.  </p>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/ERMsensorsUE11-04.png"><img alt="Image title" src="../../img/ERMsensorsUE11-04.png" width="600"/></a>
<figcaption>logisches ERM</figcaption>
</figure></p>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/2024-12-14_19-13-07.jpg"><img alt="Image title" src="../../img/2024-12-14_19-13-07.jpg" width="600"/></a>
<figcaption>Demo-Records für einige Tabellen</figcaption>
</figure></p>
</details>
<details class="success">
<summary><strong>Schritt 3</strong>: Physisches ERM (SQL-Create-Statements)</summary>
<p>Das physische ERM baut auf dem logischen ERM auf. Als DB-Entwickler und SQL-Expert bietet das logische ERM alle Informationen, um die DB-Struktur physisch zu realisieren.
Mögliche Ausnahme: INDEXE ! Diese werden oft auch im Nachhinein definiert, um die Query-Performance zu optimieren.</p>
<div class="language-SQL highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">SQLs: CREATE TABLES AND INSERT DEMO RECORDS</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">  1</a></span>
<span class="normal"><a href="#__codelineno-0-2">  2</a></span>
<span class="normal"><a href="#__codelineno-0-3">  3</a></span>
<span class="normal"><a href="#__codelineno-0-4">  4</a></span>
<span class="normal"><a href="#__codelineno-0-5">  5</a></span>
<span class="normal"><a href="#__codelineno-0-6">  6</a></span>
<span class="normal"><a href="#__codelineno-0-7">  7</a></span>
<span class="normal"><a href="#__codelineno-0-8">  8</a></span>
<span class="normal"><a href="#__codelineno-0-9">  9</a></span>
<span class="normal"><a href="#__codelineno-0-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-0-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-0-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-0-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-0-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-0-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-0-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-0-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-0-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-0-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-0-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1">-- Schema sensors erstellen, mit</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">sensors</span><span class="p">;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="c1">-- Fokus auf sensors-DB</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="n">USE</span><span class="w"> </span><span class="n">sensors</span><span class="p">;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="cm">/* -------------CREATE TABLES and INSERT DEMO RECODRS-------------------------------------- */</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sector</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">  </span><span class="o">`</span><span class="n">idsector</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">  </span><span class="o">`</span><span class="n">description</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsector</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">sector</span><span class="p">;</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'Smart Lighting Systems'</span><span class="p">);</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'Automated HVAC Systems'</span><span class="p">);</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'Security and Access Control'</span><span class="p">);</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">'Predictive Maintenance'</span><span class="p">);</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">'Inventory Management'</span><span class="p">);</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="s1">'Energy Management'</span><span class="p">);</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="s1">'Remote Monitoring and Control'</span><span class="p">);</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sector</span><span class="w"> </span><span class="p">(</span><span class="n">idsector</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="s1">'other'</span><span class="p">);</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">sector</span><span class="p">;</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">unit</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="w">  </span><span class="o">`</span><span class="n">idunit</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="w">  </span><span class="o">`</span><span class="n">description</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="w">  </span><span class="o">`</span><span class="n">unitname</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="w">  </span><span class="o">`</span><span class="n">abbreviation</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idunit</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">unit</span><span class="p">;</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Temperature'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Degree     Celsius'</span><span class="p">,</span><span class="w"> </span><span class="s1">'°C'</span><span class="p">);</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Humidity'</span><span class="p">,</span><span class="w"> </span><span class="s1">'relative     Humidity'</span><span class="p">,</span><span class="w"> </span><span class="s1">'%'</span><span class="p">);</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'3'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Air Pressure'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Pascal'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Pa'</span><span class="p">);</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'4'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Luminosity'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Lumen'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Lux'</span><span class="p">);</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'5'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Geo Position'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Latitudue and     Longitude'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Lat_Long'</span><span class="p">);</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'6'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Yaw_Pitch_Roll'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Angle'</span><span class="p">,</span><span class="w">     </span><span class="s1">'Deg'</span><span class="p">);</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'7'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Saturation CO2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'CO2 Parts     per Million'</span><span class="p">,</span><span class="w"> </span><span class="s1">'ppm'</span><span class="p">);</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'8'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Color'</span><span class="p">,</span><span class="w"> </span><span class="s1">'RGB HEX Value'</span><span class="p">,</span><span class="w"> </span><span class="s1">'#'</span><span class="p">);</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'9'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Air Quality'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Value 1..10'</span><span class="p">,</span><span class="w">     </span><span class="s1">'Dec'</span><span class="p">);</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">(</span><span class="n">idunit</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">unitname</span><span class="p">,</span><span class="w"> </span><span class="n">abbreviation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'10'</span><span class="p">,</span><span class="w"> </span><span class="s1">'True or False'</span><span class="p">,</span><span class="w"> </span><span class="s1">'True_False'</span><span class="p">,</span><span class="w">     </span><span class="s1">'boolean'</span><span class="p">);</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">unit</span><span class="p">;</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensor</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="w">  </span><span class="o">`</span><span class="n">idsensor</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="w">  </span><span class="o">`</span><span class="n">description</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="w">  </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="w">  </span><span class="o">`</span><span class="n">unit</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="w">  </span><span class="o">`</span><span class="n">sector</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensor</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">sensor</span><span class="p">;</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Temperature'</span><span class="p">,</span><span class="w"> </span><span class="s1">'1%'</span><span class="p">,</span><span class="w">     </span><span class="s1">'1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">);</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Air Pressure'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5%'</span><span class="p">,</span><span class="w">     </span><span class="s1">'3'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">);</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'3'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Temperature'</span><span class="p">,</span><span class="w"> </span><span class="s1">'10%'</span><span class="p">,</span><span class="w">     </span><span class="s1">'1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">);</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'4'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Humidity'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5%'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">,</span><span class="w">     </span><span class="s1">'2'</span><span class="p">);</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'5'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Luminosity'</span><span class="p">,</span><span class="w"> </span><span class="s1">'1%'</span><span class="p">,</span><span class="w"> </span><span class="s1">'4'</span><span class="p">,</span><span class="w">     </span><span class="s1">'1'</span><span class="p">);</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'6'</span><span class="p">,</span><span class="w"> </span><span class="s1">'CO2 Saturation'</span><span class="p">,</span><span class="w"> </span><span class="s1">'1%'</span><span class="p">,</span><span class="w">     </span><span class="s1">'7'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">);</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'7'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Motion'</span><span class="p">,</span><span class="w"> </span><span class="s1">'1%'</span><span class="p">,</span><span class="w"> </span><span class="s1">'6'</span><span class="p">,</span><span class="w">     </span><span class="s1">'7'</span><span class="p">);</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'8'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Color RGB'</span><span class="p">,</span><span class="w"> </span><span class="s1">'0.1%'</span><span class="p">,</span><span class="w">     </span><span class="s1">'8'</span><span class="p">,</span><span class="w"> </span><span class="s1">'3'</span><span class="p">);</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">precision</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="n">sector</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'9'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Air Quality'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2%'</span><span class="p">,</span><span class="w">     </span><span class="s1">'9'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">);</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">sensor</span><span class="p">;</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">component</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="w">  </span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="w">  </span><span class="o">`</span><span class="n">componentName</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="w">  </span><span class="o">`</span><span class="n">componentType</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="w">  </span><span class="o">`</span><span class="n">Manufacturer</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="w">  </span><span class="o">`</span><span class="n">Datasheet</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">component</span><span class="p">;</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">componentName</span><span class="p">,</span><span class="w"> </span><span class="n">componentType</span><span class="p">,</span><span class="w"> </span><span class="n">Manufacturer</span><span class="p">,</span><span class="w"> </span><span class="n">Datasheet</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w">     </span><span class="s1">'Digital Pressure Sensor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'BMP280'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bosch'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://cdn-shop.adafruit.com/datasheets/BST-BMP280-DS001-11.    pdf'</span><span class="p">);</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">componentName</span><span class="p">,</span><span class="w"> </span><span class="n">componentType</span><span class="p">,</span><span class="w"> </span><span class="n">Manufacturer</span><span class="p">,</span><span class="w"> </span><span class="n">Datasheet</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w">     </span><span class="s1">'Ambient Light Sensor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'BH1750'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Adafruit'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://cdn-learn.adafruit.com/downloads/pdf/    adafruit-bh1750-ambient-light-sensor.pdf'</span><span class="p">);</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">componentName</span><span class="p">,</span><span class="w"> </span><span class="n">componentType</span><span class="p">,</span><span class="w"> </span><span class="n">Manufacturer</span><span class="p">,</span><span class="w"> </span><span class="n">Datasheet</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'CO2     Sensor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'K30'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Senseair'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://rmtplusstoragesenseair.blob.core.windows.net/docs/publicerat/PSH0131.    pdf'</span><span class="p">);</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">componentName</span><span class="p">,</span><span class="w"> </span><span class="n">componentType</span><span class="p">,</span><span class="w"> </span><span class="n">Manufacturer</span><span class="p">,</span><span class="w"> </span><span class="n">Datasheet</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w">     </span><span class="s1">'Luftfeuchtigkeits-, Druck-, Temperatur- &amp; Luftgütesensor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'BME680'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bosch'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.bosch-sensortec.    com/media/boschsensortec/downloads/datasheets/bst-bme680-ds001.pdf'</span><span class="p">);</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">componentName</span><span class="p">,</span><span class="w"> </span><span class="n">componentType</span><span class="p">,</span><span class="w"> </span><span class="n">Manufacturer</span><span class="p">,</span><span class="w"> </span><span class="n">Datasheet</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w">     </span><span class="s1">'Luftfeuchtigkeits- &amp; Temperatur-Sensor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'AM2302/DHT22'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bosch'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.bosch-sensortec.com/media/    boschsensortec/downloads/datasheets/bst-bme680-ds001.pdf'</span><span class="p">);</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">componentName</span><span class="p">,</span><span class="w"> </span><span class="n">componentType</span><span class="p">,</span><span class="w"> </span><span class="n">Manufacturer</span><span class="p">,</span><span class="w"> </span><span class="n">Datasheet</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w">     </span><span class="s1">'Color Sensor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'TCS34725'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Waveshare'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.waveshare.com/wiki/TCS34725_Color_Sensor'</span><span class="p">);</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">component</span><span class="p">;</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensor_component</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="w">  </span><span class="o">`</span><span class="n">idsensor_component</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="w">  </span><span class="o">`</span><span class="n">idsensor</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="w">  </span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensor_component</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94"></a>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">;</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">sensor_component</span><span class="w"> </span><span class="p">(</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">idsensor</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">;</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">supplier</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="w">  </span><span class="o">`</span><span class="n">idsupplier</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="w">  </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="w">  </span><span class="o">`</span><span class="n">orderLink</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsupplier</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">supplier</span><span class="p">;</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idsupplier</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">orderLink</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'Mouser'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.mouser.ch/'</span><span class="p">);</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idsupplier</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">orderLink</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'DigiKey'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.digikey.ch/en'</span><span class="p">);</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idsupplier</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">orderLink</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'Conrad'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.conrad.ch/'</span><span class="p">);</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idsupplier</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">orderLink</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">'Reichelt'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.reichelt.de/'</span><span class="p">);</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idsupplier</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">orderLink</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bastelgarage'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.bastelgarage.ch/    '</span><span class="p">);</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idsupplier</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">orderLink</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="s1">'Adafruit'</span><span class="p">,</span><span class="w"> </span><span class="s1">'https://www.adafruit.com/'</span><span class="p">);</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">supplier</span><span class="p">;</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">component_supplier</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="w">  </span><span class="o">`</span><span class="n">idcomponent_supplier</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="w">  </span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="w">  </span><span class="o">`</span><span class="n">idsupplier</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent_supplier</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">component_supplier</span><span class="p">;</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">component_supplier</span><span class="w"> </span><span class="p">(</span><span class="n">idcomponent_supplier</span><span class="p">,</span><span class="w"> </span><span class="n">idcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idsupplier</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">component_supplier</span><span class="p">;</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="k">location</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="w">  </span><span class="o">`</span><span class="n">idlocation</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="w">  </span><span class="o">`</span><span class="n">locationName</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="w">  </span><span class="o">`</span><span class="n">address</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="w">  </span><span class="o">`</span><span class="n">plz</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="w">  </span><span class="o">`</span><span class="n">city</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="w">  </span><span class="o">`</span><span class="n">geoPosition</span><span class="o">`</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idlocation</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">plz</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">geoposition</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">longitude_lattitude</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">location</span><span class="p">;</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">location</span><span class="w"> </span><span class="p">(</span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">locationName</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">plz</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">geoPosition</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bern     Freiburgstrasse'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Freiburgstrasse 13'</span><span class="p">,</span><span class="w"> </span><span class="s1">'3000'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bern'</span><span class="p">,</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="mi">7</span><span class="p">.</span><span class="mi">44425</span><span class="p">,</span><span class="w"> </span><span class="mi">46</span><span class="p">.</span><span class="mi">9485</span><span class="p">));</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">location</span><span class="w"> </span><span class="p">(</span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">locationName</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">plz</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">geoPosition</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bern     Lorraine'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Lorrainestrasse 5B'</span><span class="p">,</span><span class="w"> </span><span class="s1">'3000'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bern'</span><span class="p">,</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="mi">7</span><span class="p">.</span><span class="mi">4471</span><span class="p">,</span><span class="w"> </span><span class="mi">46</span><span class="p">.</span><span class="mi">9483</span><span class="p">));</span><span class="w"> </span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">location</span><span class="w"> </span><span class="p">(</span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">locationName</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">plz</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">geoPosition</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'Lausanne'</span><span class="p">,</span><span class="w">     </span><span class="s1">'rte de la gare 1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'3000'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Bern'</span><span class="p">,</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="mi">6</span><span class="p">.</span><span class="mi">6242</span><span class="p">,</span><span class="w"> </span><span class="mi">46</span><span class="p">.</span><span class="mi">5098</span><span class="p">));</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">location</span><span class="w"> </span><span class="p">(</span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">locationName</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">plz</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">geoPosition</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">'Biel'</span><span class="p">,</span><span class="w">     </span><span class="s1">'Quellgasse 12'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2502'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Biel'</span><span class="p">,</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="mi">7</span><span class="p">.</span><span class="mi">2470</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">.</span><span class="mi">1350</span><span class="p">));</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">location</span><span class="w"> </span><span class="p">(</span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">locationName</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">plz</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">geoPosition</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">'Biel Lager'</span><span class="p">,</span><span class="w">     </span><span class="s1">'Quellgasse 12'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2502'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Biel'</span><span class="p">,</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="mi">7</span><span class="p">.</span><span class="mi">2470</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">.</span><span class="mi">1350</span><span class="p">));</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">plz</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">geoposition</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">longitude_lattitude</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">location</span><span class="p">;</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">instlocation</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="w">  </span><span class="o">`</span><span class="n">idinstlocation</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="w">  </span><span class="o">`</span><span class="n">idsensorcomponent</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="w">  </span><span class="o">`</span><span class="n">idlocation</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="w">  </span><span class="o">`</span><span class="n">roomNr</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="w">  </span><span class="o">`</span><span class="n">startDateOperation</span><span class="o">`</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idinstlocation</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COLLATE</span><span class="o">=</span><span class="n">utf8mb4_0900_ai_ci</span><span class="p">;</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">instlocation</span><span class="p">;</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">,</span><span class="w"> </span><span class="n">startDateOperation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">     </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="s1">'2022-05-28'</span><span class="p">);</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">,</span><span class="w"> </span><span class="n">startDateOperation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">     </span><span class="p">(</span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'303'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-03-18'</span><span class="p">);</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">,</span><span class="w"> </span><span class="n">startDateOperation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">     </span><span class="p">(</span><span class="s1">'3'</span><span class="p">,</span><span class="w"> </span><span class="s1">'3'</span><span class="p">,</span><span class="w"> </span><span class="s1">'3'</span><span class="p">,</span><span class="w"> </span><span class="s1">'E1-16'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2021-02-02'</span><span class="p">);</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">,</span><span class="w"> </span><span class="n">startDateOperation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">     </span><span class="p">(</span><span class="s1">'4'</span><span class="p">,</span><span class="w"> </span><span class="s1">'4'</span><span class="p">,</span><span class="w"> </span><span class="s1">'4'</span><span class="p">,</span><span class="w"> </span><span class="s1">'W14'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-12-14'</span><span class="p">);</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">,</span><span class="w"> </span><span class="n">startDateOperation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">     </span><span class="p">(</span><span class="s1">'5'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'303'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-06-01'</span><span class="p">);</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">,</span><span class="w"> </span><span class="n">startDateOperation</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">     </span><span class="p">(</span><span class="s1">'6'</span><span class="p">,</span><span class="w"> </span><span class="s1">'4'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'301'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2024-08-06'</span><span class="p">);</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'7'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w">     </span><span class="s1">'W00'</span><span class="p">);</span>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'8'</span><span class="p">,</span><span class="w"> </span><span class="s1">'6'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w">     </span><span class="s1">'W00'</span><span class="p">);</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'9'</span><span class="p">,</span><span class="w"> </span><span class="s1">'7'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w">     </span><span class="s1">'W00'</span><span class="p">);</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'10'</span><span class="p">,</span><span class="w"> </span><span class="s1">'8'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w">     </span><span class="s1">'W00'</span><span class="p">);</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'11'</span><span class="p">,</span><span class="w"> </span><span class="s1">'9'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w">     </span><span class="s1">'W00'</span><span class="p">);</span>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'12'</span><span class="p">,</span><span class="w"> </span><span class="s1">'10'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w">     </span><span class="s1">'W00'</span><span class="p">);</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="p">(</span><span class="n">idinstlocation</span><span class="p">,</span><span class="w"> </span><span class="n">idsensorcomponent</span><span class="p">,</span><span class="w"> </span><span class="n">idlocation</span><span class="p">,</span><span class="w"> </span><span class="n">roomNr</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">'13'</span><span class="p">,</span><span class="w"> </span><span class="s1">'11'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">,</span><span class="w">     </span><span class="s1">'W00'</span><span class="p">);</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">instlocation</span><span class="p">;</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="cm">/* --------------------------------------------------------------------------------------- */</span>
</span></code></pre></div></td></tr></table></div>
<div class="language-SQL highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">Query-SQL: Query aller Sensoren mit den Komponenten</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">-- Alle Sensoren mit entsprechenden Komponenten</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">sensor_component</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sensor</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sensor</span><span class="p">.</span><span class="n">idsensor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idsensor</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">component</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">component</span><span class="p">.</span><span class="n">idcomponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idcomponent</span>
</span></code></pre></div></td></tr></table></div>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/2024-12-14_18-34-23.jpg"><img alt="Image title" src="../../img/2024-12-14_18-34-23.jpg" width="1200"/></a>
<figcaption>Alle Sensoren mit entsprechenden Komponenten</figcaption>
</figure></p>
<div class="language-SQL highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">Query-SQL: Alle Sensoren mit entsprechenden Komponenten, Einbaudatum und Location</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">sensor_component</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sensor</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sensor</span><span class="p">.</span><span class="n">idsensor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idsensor</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">component</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">component</span><span class="p">.</span><span class="n">idcomponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idcomponent</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">instlocation</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">instlocation</span><span class="p">.</span><span class="n">idsensorcomponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idsensor_component</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="k">JOIN</span><span class="w"> </span><span class="k">location</span><span class="w"> </span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">location</span><span class="p">.</span><span class="n">idlocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instlocation</span><span class="p">.</span><span class="n">idlocation</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">description</span>
</span></code></pre></div></td></tr></table></div>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/2024-12-14_18-40-03.jpg"><img alt="Image title" src="../../img/2024-12-14_18-40-03.jpg" width="1200"/></a>
<figcaption>Alle Sensoren mit entsprechenden Komponenten und Location mit Startdate of Operation</figcaption>
</figure></p>
<p><strong>WICHTIG</strong>: zum Schluss erstellen wir noch die <strong>Referential Integrity</strong> </p>
<div class="language-SQL highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="cm">/* ---------- ALTER TABLES-define FOREIGN KEYS and REFERENTIAL INTEGRITY ---------------- */</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="c1">-- sensor-table     </span>
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a>
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-6"><a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_sector_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">sector</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">;</span>
</span><span id="__span-3-7"><a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">;</span>
</span><span id="__span-3-8"><a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-9"><a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_sector</span><span class="o">`</span>
</span><span id="__span-3-10"><a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">sector</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-11"><a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sector</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsector</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-12"><a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-13"><a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">;</span>
</span><span id="__span-3-14"><a href="#__codelineno-3-14" id="__codelineno-3-14" name="__codelineno-3-14"></a>
</span><span id="__span-3-15"><a href="#__codelineno-3-15" id="__codelineno-3-15" name="__codelineno-3-15"></a>
</span><span id="__span-3-16"><a href="#__codelineno-3-16" id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="c1">-- unit</span>
</span><span id="__span-3-17"><a href="#__codelineno-3-17" id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-18"><a href="#__codelineno-3-18" id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_unit_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">unit</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">;</span>
</span><span id="__span-3-19"><a href="#__codelineno-3-19" id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="p">;</span>
</span><span id="__span-3-20"><a href="#__codelineno-3-20" id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-21"><a href="#__codelineno-3-21" id="__codelineno-3-21" name="__codelineno-3-21"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_unit</span><span class="o">`</span>
</span><span id="__span-3-22"><a href="#__codelineno-3-22" id="__codelineno-3-22" name="__codelineno-3-22"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">unit</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-23"><a href="#__codelineno-3-23" id="__codelineno-3-23" name="__codelineno-3-23"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">unit</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idunit</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-24"><a href="#__codelineno-3-24" id="__codelineno-3-24" name="__codelineno-3-24"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-25"><a href="#__codelineno-3-25" id="__codelineno-3-25" name="__codelineno-3-25"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">;</span><span class="w">    </span>
</span><span id="__span-3-26"><a href="#__codelineno-3-26" id="__codelineno-3-26" name="__codelineno-3-26"></a>
</span><span id="__span-3-27"><a href="#__codelineno-3-27" id="__codelineno-3-27" name="__codelineno-3-27"></a>
</span><span id="__span-3-28"><a href="#__codelineno-3-28" id="__codelineno-3-28" name="__codelineno-3-28"></a><span class="c1">-- sensor_component</span>
</span><span id="__span-3-29"><a href="#__codelineno-3-29" id="__codelineno-3-29" name="__codelineno-3-29"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor_component</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-30"><a href="#__codelineno-3-30" id="__codelineno-3-30" name="__codelineno-3-30"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_sensor_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensor</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">;</span>
</span><span id="__span-3-31"><a href="#__codelineno-3-31" id="__codelineno-3-31" name="__codelineno-3-31"></a><span class="p">;</span>
</span><span id="__span-3-32"><a href="#__codelineno-3-32" id="__codelineno-3-32" name="__codelineno-3-32"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor_component</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-33"><a href="#__codelineno-3-33" id="__codelineno-3-33" name="__codelineno-3-33"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_sensor</span><span class="o">`</span>
</span><span id="__span-3-34"><a href="#__codelineno-3-34" id="__codelineno-3-34" name="__codelineno-3-34"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensor</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-35"><a href="#__codelineno-3-35" id="__codelineno-3-35" name="__codelineno-3-35"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensor</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-36"><a href="#__codelineno-3-36" id="__codelineno-3-36" name="__codelineno-3-36"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-37"><a href="#__codelineno-3-37" id="__codelineno-3-37" name="__codelineno-3-37"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">;</span>
</span><span id="__span-3-38"><a href="#__codelineno-3-38" id="__codelineno-3-38" name="__codelineno-3-38"></a>
</span><span id="__span-3-39"><a href="#__codelineno-3-39" id="__codelineno-3-39" name="__codelineno-3-39"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor_component</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-40"><a href="#__codelineno-3-40" id="__codelineno-3-40" name="__codelineno-3-40"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_component_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">;</span>
</span><span id="__span-3-41"><a href="#__codelineno-3-41" id="__codelineno-3-41" name="__codelineno-3-41"></a><span class="p">;</span>
</span><span id="__span-3-42"><a href="#__codelineno-3-42" id="__codelineno-3-42" name="__codelineno-3-42"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor_component</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-43"><a href="#__codelineno-3-43" id="__codelineno-3-43" name="__codelineno-3-43"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_component</span><span class="o">`</span>
</span><span id="__span-3-44"><a href="#__codelineno-3-44" id="__codelineno-3-44" name="__codelineno-3-44"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-45"><a href="#__codelineno-3-45" id="__codelineno-3-45" name="__codelineno-3-45"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">component</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-46"><a href="#__codelineno-3-46" id="__codelineno-3-46" name="__codelineno-3-46"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-47"><a href="#__codelineno-3-47" id="__codelineno-3-47" name="__codelineno-3-47"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">;</span><span class="w">    </span>
</span><span id="__span-3-48"><a href="#__codelineno-3-48" id="__codelineno-3-48" name="__codelineno-3-48"></a>
</span><span id="__span-3-49"><a href="#__codelineno-3-49" id="__codelineno-3-49" name="__codelineno-3-49"></a><span class="c1">-- component-supplier    </span>
</span><span id="__span-3-50"><a href="#__codelineno-3-50" id="__codelineno-3-50" name="__codelineno-3-50"></a>
</span><span id="__span-3-51"><a href="#__codelineno-3-51" id="__codelineno-3-51" name="__codelineno-3-51"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">component_supplier</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-52"><a href="#__codelineno-3-52" id="__codelineno-3-52" name="__codelineno-3-52"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_componentid_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">,</span>
</span><span id="__span-3-53"><a href="#__codelineno-3-53" id="__codelineno-3-53" name="__codelineno-3-53"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_supplier_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsupplier</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">;</span>
</span><span id="__span-3-54"><a href="#__codelineno-3-54" id="__codelineno-3-54" name="__codelineno-3-54"></a><span class="p">;</span>
</span><span id="__span-3-55"><a href="#__codelineno-3-55" id="__codelineno-3-55" name="__codelineno-3-55"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">component_supplier</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-56"><a href="#__codelineno-3-56" id="__codelineno-3-56" name="__codelineno-3-56"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_componentid</span><span class="o">`</span>
</span><span id="__span-3-57"><a href="#__codelineno-3-57" id="__codelineno-3-57" name="__codelineno-3-57"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-58"><a href="#__codelineno-3-58" id="__codelineno-3-58" name="__codelineno-3-58"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">component</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idcomponent</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-59"><a href="#__codelineno-3-59" id="__codelineno-3-59" name="__codelineno-3-59"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-60"><a href="#__codelineno-3-60" id="__codelineno-3-60" name="__codelineno-3-60"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">,</span>
</span><span id="__span-3-61"><a href="#__codelineno-3-61" id="__codelineno-3-61" name="__codelineno-3-61"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_supplier</span><span class="o">`</span>
</span><span id="__span-3-62"><a href="#__codelineno-3-62" id="__codelineno-3-62" name="__codelineno-3-62"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsupplier</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-63"><a href="#__codelineno-3-63" id="__codelineno-3-63" name="__codelineno-3-63"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">supplier</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsupplier</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-64"><a href="#__codelineno-3-64" id="__codelineno-3-64" name="__codelineno-3-64"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-65"><a href="#__codelineno-3-65" id="__codelineno-3-65" name="__codelineno-3-65"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">;</span>
</span><span id="__span-3-66"><a href="#__codelineno-3-66" id="__codelineno-3-66" name="__codelineno-3-66"></a>
</span><span id="__span-3-67"><a href="#__codelineno-3-67" id="__codelineno-3-67" name="__codelineno-3-67"></a><span class="c1">-- instlocation    </span>
</span><span id="__span-3-68"><a href="#__codelineno-3-68" id="__codelineno-3-68" name="__codelineno-3-68"></a>
</span><span id="__span-3-69"><a href="#__codelineno-3-69" id="__codelineno-3-69" name="__codelineno-3-69"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">instlocation</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-70"><a href="#__codelineno-3-70" id="__codelineno-3-70" name="__codelineno-3-70"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_sensorcomponent_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensorcomponent</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">,</span>
</span><span id="__span-3-71"><a href="#__codelineno-3-71" id="__codelineno-3-71" name="__codelineno-3-71"></a><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">FK_location_idx</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idlocation</span><span class="o">`</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="n">VISIBLE</span><span class="p">;</span>
</span><span id="__span-3-72"><a href="#__codelineno-3-72" id="__codelineno-3-72" name="__codelineno-3-72"></a><span class="p">;</span>
</span><span id="__span-3-73"><a href="#__codelineno-3-73" id="__codelineno-3-73" name="__codelineno-3-73"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">instlocation</span><span class="o">`</span><span class="w"> </span>
</span><span id="__span-3-74"><a href="#__codelineno-3-74" id="__codelineno-3-74" name="__codelineno-3-74"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_sensorcomponent</span><span class="o">`</span>
</span><span id="__span-3-75"><a href="#__codelineno-3-75" id="__codelineno-3-75" name="__codelineno-3-75"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensorcomponent</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-76"><a href="#__codelineno-3-76" id="__codelineno-3-76" name="__codelineno-3-76"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sensor_component</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idsensor_component</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-77"><a href="#__codelineno-3-77" id="__codelineno-3-77" name="__codelineno-3-77"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-78"><a href="#__codelineno-3-78" id="__codelineno-3-78" name="__codelineno-3-78"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">,</span>
</span><span id="__span-3-79"><a href="#__codelineno-3-79" id="__codelineno-3-79" name="__codelineno-3-79"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="o">`</span><span class="n">FK_location</span><span class="o">`</span>
</span><span id="__span-3-80"><a href="#__codelineno-3-80" id="__codelineno-3-80" name="__codelineno-3-80"></a><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idlocation</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-81"><a href="#__codelineno-3-81" id="__codelineno-3-81" name="__codelineno-3-81"></a><span class="w">  </span><span class="k">REFERENCES</span><span class="w"> </span><span class="o">`</span><span class="n">sensors</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">location</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">idlocation</span><span class="o">`</span><span class="p">)</span>
</span><span id="__span-3-82"><a href="#__codelineno-3-82" id="__codelineno-3-82" name="__codelineno-3-82"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
</span><span id="__span-3-83"><a href="#__codelineno-3-83" id="__codelineno-3-83" name="__codelineno-3-83"></a><span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span><span class="p">;</span>
</span><span id="__span-3-84"><a href="#__codelineno-3-84" id="__codelineno-3-84" name="__codelineno-3-84"></a>
</span><span id="__span-3-85"><a href="#__codelineno-3-85" id="__codelineno-3-85" name="__codelineno-3-85"></a><span class="cm">/* ------------------------------------------- */</span>
</span></code></pre></div>
<p>Erst jetzt liefert der <em>Reverse Engineer</em> ein komplettes ERM mit Beziehungen und Kardinalitäten.</p>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/2024-12-15_01-21-54.jpg"><img alt="Image title" src="../../img/2024-12-15_01-21-54.jpg" width="600"/></a>
<figcaption>Mit <em>Reverse Engineer</em> kann das ERM jetzt automatisch erstellt werden. Prüfe dieses!</figcaption>
</figure></p>
</details>
<details class="success">
<summary><strong>Daten aus Influx mit MySQL verknüpfen</strong></summary>
<p>Die Tabelle <code>sensor_component</code> mit dem PK <code>idsensor_component</code> identifiziert jedes Sensorsignal eindeutig. </p>
<p>Ziel: wir wollen Daten aus MySQL (statische Daten) mit den dynamischen Sensorsignalen kombinieren. Ziel soll sein: </p>
<p><strong>Sensorwerte (aus InfluxDB) mit dem Standort (in MySQL gespeichert) sichtbar machen.</strong></p>
<p>Mit Hilfe des folgenden SQL's in MySQL kann der Standort eines Sensorsignals abgefragt werden:</p>
<p></p><div class="language-SQL highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">Query-SQL: Standort des Sensorsignals</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span>
<span class="normal"><a href="#__codelineno-4-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idsensor_component</span><span class="p">,</span><span class="w"> </span><span class="n">locationName</span><span class="w"> </span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">sensor_component</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">sensor</span><span class="p">.</span><span class="n">idsensor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idsensor</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">component</span><span class="p">.</span><span class="n">idcomponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idcomponent</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">instlocation</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">instlocation</span><span class="p">.</span><span class="n">idsensorcomponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensor_component</span><span class="p">.</span><span class="n">idsensor_component</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="k">location</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">location</span><span class="p">.</span><span class="n">idlocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instlocation</span><span class="p">.</span><span class="n">idlocation</span>
</span></code></pre></div></td></tr></table></div>
<figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/2024-12-14_23-06-23.jpg"><img alt="Image title" src="../../img/2024-12-14_23-06-23.jpg" width="300"/></a>
<figcaption>Standorte der Sensorsignale</figcaption>
</figure>
<p>Damit wir in InfluxDB ein verbindendes Element in die MySQL-Datenbank haben, definieren wir einen <code>Tag</code> mit dem Namen des Primary Key, <code>idsensor_component</code>, der Tabelle <code>sensor_component</code>. Diese Tabelle enthält jedes einzelne Sensorsignal und die dazugehörenden statischen Daten, neben anderem also auch der <code>locationName</code>.</p>
<p>Hier das Python-Skript, welches zufällige Sensordaten mit dem Tag <code>idsensor_component</code> erzeugt.
Wir nehmen hier als Beispiel die id's 1 und 2. 1 gehört zu <em>Bern Freiburgstrasse</em> und 2 gehört zur Location <em>Bern Lorraine</em>.</p>
<p>Beachte die markierten Code-Zeilen!</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">Erzeugung von Sensordaten mit tag *idsensor_component*</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">influxdb_client</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">influxdb_client.client.write_api</span><span class="w"> </span><span class="kn">import</span> <span class="n">SYNCHRONOUS</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">timezone</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>    
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="n">client</span> <span class="o">=</span> <span class="n">influxdb_client</span><span class="o">.</span><span class="n">InfluxDBClient</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">"http://localhost:8086"</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s2">"DEIN TOKEN"</span><span class="p">,</span> <span class="n">org</span><span class="o">=</span><span class="s2">"BFH"</span><span class="p">)</span>    
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8"></a>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="n">bucket</span><span class="o">=</span><span class="s2">"DEMOBUCKET"</span>    
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="n">write_api</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">write_api</span><span class="p">(</span><span class="n">write_options</span><span class="o">=</span><span class="n">SYNCHRONOUS</span><span class="p">)</span>    
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12"></a>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13"></a>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="k">def</span><span class="w"> </span><span class="nf">generate_sensor_data</span><span class="p">(</span><span class="n">num_points</span><span class="p">):</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15"></a>    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16"></a>    <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_points</span><span class="p">):</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18"></a>        <span class="c1"># Temperaturdaten in Grad Celsius normalverteilt zwischen 15 und 25°</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="hll">        <span class="n">temp_data</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"temperature,idsensor_component=1 value=</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">15.0</span><span class="p">,</span><span class="w"> </span><span class="mf">25.0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">int</span><span class="w">    </span><span class="p">(</span><span class="n">current_time</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1e9</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
</span></span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20"></a>        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_data</span><span class="p">)</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21"></a>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22"></a>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23"></a>        <span class="c1"># Luftdruckdaten in normalverteilt zwischen 950 und 1050 hPa</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="hll">        <span class="n">pressure_data</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"pressure,idsensor_component=2 value=</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">950.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1050.0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">int</span><span class="w">    </span><span class="p">(</span><span class="n">current_time</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1e9</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
</span></span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25"></a>        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">)</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26"></a>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27"></a>        <span class="c1"># die current time wird nach jedem loop um 5Min zurückgesetzt. So entsteht eine Time Serie</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28"></a>        <span class="n">current_time</span> <span class="o">-=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29"></a>    <span class="k">return</span> <span class="n">data</span>    
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30"></a>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="c1"># Generiere 100 Datenpunkte</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="n">sensor_data</span> <span class="o">=</span> <span class="n">generate_sensor_data</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="c1"># Schreibe die generierten Datenpunkte in InfluxDB</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="n">write_api</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bucket</span><span class="o">=</span><span class="n">bucket</span><span class="p">,</span> <span class="n">record</span><span class="o">=</span><span class="n">sensor_data</span><span class="p">)</span>    
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35"></a>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="nb">print</span><span class="p">(</span><span class="s2">"Daten erfolgreich geschrieben"</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>Nachdem wir einige 100 Sensor-Datensätze nach InfluxDB geschrieben haben, wollen wir diese Abfragen. Die Abfrage soll den Sensorwert (aus Influx) und auch die Location (aus MySQL) anzeigen:</p>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/2024-12-14_23-35-04.jpg"><img alt="Image title" src="../../img/2024-12-14_23-35-04.jpg" width="1200"/></a>
<figcaption>Influx-Timeseries mit MySQL-Daten kombiniert</figcaption>
</figure></p>
<p>Das Flux-Query-Statement wird mit dem Query Builder im Data Explorer eingegeben. Schieben Sie den Switch auf <em>View Raw Data</em>.</p>
<p><figure markdown="span">
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../../img/2024-12-15_00-58-09.jpg"><img alt="Image title" src="../../img/2024-12-15_00-58-09.jpg" width="1200"/></a>
<figcaption>Query Builder im Data Explorer</figcaption>
</figure></p>
<p><strong>Passen Sie ihre Credentials an!</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">import</span><span class="w"> </span><span class="ss">"sql"</span>
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="n">import</span><span class="w"> </span><span class="ss">"experimental"</span>
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="o">//</span><span class="w"> </span><span class="n">MySQL</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">retrieval</span>
</span><span id="__span-6-5"><a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="n">mysql_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sql</span><span class="p">.</span><span class="k">from</span><span class="p">(</span>
</span><span id="__span-6-6"><a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="n">driverName</span><span class="p">:</span><span class="w"> </span><span class="ss">"mysql"</span><span class="p">,</span>
</span><span id="__span-6-7"><a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">    </span><span class="n">dataSourceName</span><span class="p">:</span><span class="w"> </span><span class="ss">"tom:password@tcp(hercule.lan.tj:3306)/sensors"</span><span class="p">,</span>
</span><span id="__span-6-8"><a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">    </span><span class="n">query</span><span class="p">:</span><span class="w"> </span><span class="ss">"</span>
</span><span id="__span-6-9"><a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="ss">        SELECT </span>
</span><span id="__span-6-10"><a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="ss">            sensor_component.idsensor_component,</span>
</span><span id="__span-6-11"><a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="ss">            locationName </span>
</span><span id="__span-6-12"><a href="#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="ss">        FROM sensor_component</span>
</span><span id="__span-6-13"><a href="#__codelineno-6-13" id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="ss">        INNER JOIN sensor ON sensor.idsensor = sensor_component.idsensor</span>
</span><span id="__span-6-14"><a href="#__codelineno-6-14" id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="ss">        INNER JOIN component ON component.idcomponent = sensor_component.idcomponent</span>
</span><span id="__span-6-15"><a href="#__codelineno-6-15" id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="ss">        INNER JOIN instlocation ON instlocation.idsensorcomponent = sensor_component.idsensor_component</span>
</span><span id="__span-6-16"><a href="#__codelineno-6-16" id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="ss">        INNER JOIN location ON location.idlocation = instlocation.idlocation</span>
</span><span id="__span-6-17"><a href="#__codelineno-6-17" id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="ss">    "</span>
</span><span id="__span-6-18"><a href="#__codelineno-6-18" id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="p">)</span>
</span><span id="__span-6-19"><a href="#__codelineno-6-19" id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="o">|&gt;</span><span class="w"> </span><span class="n">yield</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="ss">"mysql_data"</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Debug</span><span class="p">:</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">MySQL</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="k">output</span>
</span><span id="__span-6-20"><a href="#__codelineno-6-20" id="__codelineno-6-20" name="__codelineno-6-20"></a>
</span><span id="__span-6-21"><a href="#__codelineno-6-21" id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="o">//</span><span class="w"> </span><span class="n">InfluxDB</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">retrieval</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">conversion</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">idsensor_component</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">int</span>
</span><span id="__span-6-22"><a href="#__codelineno-6-22" id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="n">influx_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">from</span><span class="p">(</span><span class="n">bucket</span><span class="p">:</span><span class="w"> </span><span class="ss">"DEMOBUCKET"</span><span class="p">)</span>
</span><span id="__span-6-23"><a href="#__codelineno-6-23" id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="k">start</span><span class="p">:</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">timeRangeStart</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="p">:</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">timeRangeStop</span><span class="p">)</span>
</span><span id="__span-6-24"><a href="#__codelineno-6-24" id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_measurement</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">"pressure"</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_measurement</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">"temperature"</span><span class="p">)</span>
</span><span id="__span-6-25"><a href="#__codelineno-6-25" id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_field</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">"value"</span><span class="p">)</span>
</span><span id="__span-6-26"><a href="#__codelineno-6-26" id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="err">{</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">idsensor_component</span><span class="p">:</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="p">)</span><span class="w"> </span><span class="err">}</span><span class="p">))</span>
</span><span id="__span-6-27"><a href="#__codelineno-6-27" id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-6-28"><a href="#__codelineno-6-28" id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">aggregateWindow</span><span class="p">(</span><span class="k">every</span><span class="p">:</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">windowPeriod</span><span class="p">,</span><span class="w"> </span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="n">mean</span><span class="p">,</span><span class="w"> </span><span class="n">createEmpty</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
</span><span id="__span-6-29"><a href="#__codelineno-6-29" id="__codelineno-6-29" name="__codelineno-6-29"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">yield</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="ss">"influx_data"</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Debug</span><span class="p">:</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">InfluxDB</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="k">output</span>
</span><span id="__span-6-30"><a href="#__codelineno-6-30" id="__codelineno-6-30" name="__codelineno-6-30"></a>
</span><span id="__span-6-31"><a href="#__codelineno-6-31" id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="o">//</span><span class="w"> </span><span class="k">Join</span><span class="w"> </span><span class="k">operation</span>
</span><span id="__span-6-32"><a href="#__codelineno-6-32" id="__codelineno-6-32" name="__codelineno-6-32"></a><span class="n">combined_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">join</span><span class="p">(</span>
</span><span id="__span-6-33"><a href="#__codelineno-6-33" id="__codelineno-6-33" name="__codelineno-6-33"></a><span class="w">    </span><span class="n">tables</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="n">mysql</span><span class="p">:</span><span class="w"> </span><span class="n">mysql_data</span><span class="p">,</span><span class="w"> </span><span class="n">influx</span><span class="p">:</span><span class="w"> </span><span class="n">influx_data</span><span class="err">}</span><span class="p">,</span>
</span><span id="__span-6-34"><a href="#__codelineno-6-34" id="__codelineno-6-34" name="__codelineno-6-34"></a><span class="w">    </span><span class="k">on</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="ss">"idsensor_component"</span><span class="p">]</span>
</span><span id="__span-6-35"><a href="#__codelineno-6-35" id="__codelineno-6-35" name="__codelineno-6-35"></a><span class="p">)</span>
</span><span id="__span-6-36"><a href="#__codelineno-6-36" id="__codelineno-6-36" name="__codelineno-6-36"></a><span class="o">|&gt;</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="err">{</span>
</span><span id="__span-6-37"><a href="#__codelineno-6-37" id="__codelineno-6-37" name="__codelineno-6-37"></a><span class="w">    </span><span class="n">_time</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_time</span><span class="p">,</span>
</span><span id="__span-6-38"><a href="#__codelineno-6-38" id="__codelineno-6-38" name="__codelineno-6-38"></a><span class="w">    </span><span class="n">_measurement</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_measurement</span><span class="p">,</span>
</span><span id="__span-6-39"><a href="#__codelineno-6-39" id="__codelineno-6-39" name="__codelineno-6-39"></a><span class="w">    </span><span class="n">_field</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_field</span><span class="p">,</span>
</span><span id="__span-6-40"><a href="#__codelineno-6-40" id="__codelineno-6-40" name="__codelineno-6-40"></a><span class="w">    </span><span class="n">_value</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_value</span><span class="p">,</span>
</span><span id="__span-6-41"><a href="#__codelineno-6-41" id="__codelineno-6-41" name="__codelineno-6-41"></a><span class="w">    </span><span class="n">idsensor_component</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="p">,</span>
</span><span id="__span-6-42"><a href="#__codelineno-6-42" id="__codelineno-6-42" name="__codelineno-6-42"></a><span class="w">    </span><span class="n">locationName</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">locationName</span>
</span><span id="__span-6-43"><a href="#__codelineno-6-43" id="__codelineno-6-43" name="__codelineno-6-43"></a><span class="err">}</span><span class="p">))</span>
</span><span id="__span-6-44"><a href="#__codelineno-6-44" id="__codelineno-6-44" name="__codelineno-6-44"></a><span class="o">|&gt;</span><span class="w"> </span><span class="n">yield</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="ss">"combined_data"</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Erklärungen zum Code:</strong></p>
<p></p><div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a>import "sql"
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a>import "experimental"
</span></code></pre></div>
Diese Anweisungen importieren die notwendigen Pakete für den SQL-Zugriff und experimentelle Funktionen in Flux.
<p><strong>Abrufen der MySQL-Daten</strong></p>
<p></p><div class="language-sql highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="n">mysql_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sql</span><span class="p">.</span><span class="k">from</span><span class="p">(</span>
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="n">driverName</span><span class="p">:</span><span class="w"> </span><span class="ss">"mysql"</span><span class="p">,</span>
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="n">dataSourceName</span><span class="p">:</span><span class="w"> </span><span class="ss">"tom:password@tcp(hercule.lan.tj:3306)/sensors"</span><span class="p">,</span>
</span><span id="__span-8-4"><a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="n">query</span><span class="p">:</span><span class="w"> </span><span class="ss">"</span>
</span><span id="__span-8-5"><a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="ss">    SELECT </span>
</span><span id="__span-8-6"><a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="ss">        sensor_component.idsensor_component,</span>
</span><span id="__span-8-7"><a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="ss">        locationName </span>
</span><span id="__span-8-8"><a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="ss">    FROM sensor_component</span>
</span><span id="__span-8-9"><a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="ss">    INNER JOIN sensor ON sensor.idsensor = sensor_component.idsensor</span>
</span><span id="__span-8-10"><a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="ss">    INNER JOIN component ON component.idcomponent = sensor_component.idcomponent</span>
</span><span id="__span-8-11"><a href="#__codelineno-8-11" id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="ss">    INNER JOIN instlocation ON instlocation.idsensorcomponent = sensor_component.idsensor_component</span>
</span><span id="__span-8-12"><a href="#__codelineno-8-12" id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="ss">    INNER JOIN location ON location.idlocation = instlocation.idlocation</span>
</span><span id="__span-8-13"><a href="#__codelineno-8-13" id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="ss">"</span>
</span><span id="__span-8-14"><a href="#__codelineno-8-14" id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="p">)</span>
</span><span id="__span-8-15"><a href="#__codelineno-8-15" id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="o">|&gt;</span><span class="w"> </span><span class="n">yield</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="ss">"mysql_data"</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Debug</span><span class="p">:</span><span class="w"> </span><span class="err">Ü</span><span class="n">berprüfung</span><span class="w"> </span><span class="n">der</span><span class="w"> </span><span class="n">MySQL</span><span class="o">-</span><span class="n">Daten</span>
</span></code></pre></div>
Dies ruft Daten aus der MySQL-Datenbank ab, indem die SQL-Abfrage von oben verwendet wird, und speichert sie in der Variablen <code>mysql_data</code>. Die Abfrage holt <code>idsensor_component</code> und <code>locationName</code>, indem mehrere Tabellen verbunden werden. Die <code>yield</code>-Anweisung wird zum Debuggen verwendet, um sicherzustellen, dass die Daten korrekt abgerufen werden.
<p><strong>Abrufen der InfluxDB-Daten und Konvertierung</strong></p>
<p></p><div class="language-sql highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">influx_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">from</span><span class="p">(</span><span class="n">bucket</span><span class="p">:</span><span class="w"> </span><span class="ss">"DEMOBUCKET"</span><span class="p">)</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="k">start</span><span class="p">:</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">timeRangeStart</span><span class="p">,</span><span class="w"> </span><span class="n">stop</span><span class="p">:</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">timeRangeStop</span><span class="p">)</span>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_measurement</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">"pressure"</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_measurement</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">"temperature"</span><span class="p">)</span>
</span><span id="__span-9-4"><a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_field</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">"value"</span><span class="p">)</span>
</span><span id="__span-9-5"><a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="err">{</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">idsensor_component</span><span class="p">:</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="p">)</span><span class="w"> </span><span class="err">}</span><span class="p">))</span>
</span><span id="__span-9-6"><a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-9-7"><a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">aggregateWindow</span><span class="p">(</span><span class="k">every</span><span class="p">:</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">windowPeriod</span><span class="p">,</span><span class="w"> </span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="n">mean</span><span class="p">,</span><span class="w"> </span><span class="n">createEmpty</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
</span><span id="__span-9-8"><a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">yield</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="ss">"influx_data"</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Debug</span><span class="p">:</span><span class="w"> </span><span class="err">Ü</span><span class="n">berprüfung</span><span class="w"> </span><span class="n">der</span><span class="w"> </span><span class="n">InfluxDB</span><span class="o">-</span><span class="n">Daten</span>
</span></code></pre></div>
Dies ruft Zeitreihendaten aus InfluxDB ab:
<ol>
<li><code>from(bucket: "DEMOBUCKET")</code>: Gibt das Bucket an, aus dem abgefragt wird.</li>
<li><code>range(start: v.timeRangeStart, stop: v.timeRangeStop)</code>: Definiert den Zeitbereich für die Abfrage.</li>
<li><code>filter</code>: Filtert die Daten, um nur Messungen für <code>pressure</code> und <code>temperature</code> einzuschliessen.</li>
<li><code>map</code>: Konvertiert das <code>idsensor_component</code> Feld von String zu Integer. In InfluxDB ist der Datentyp per default String, in MySQL hingegen Integer. Damit das mapping klappt, müssen wir den Datentyp konvertieren auf Integer.</li>
<li><code>filter</code>: Filtert die Daten weiter, um die <code>idsensor_component</code> Werte 1 und 2 einzuschliessen.</li>
<li><code>aggregateWindow</code>: Aggregiert Daten über den angegebenen Zeitraum.</li>
<li><code>yield</code>: Wird zum Debuggen verwendet, um sicherzustellen, dass die Daten korrekt sind.</li>
</ol>
<p><strong>Zusammenführen der Daten</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="n">combined_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">join</span><span class="p">(</span>
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">    </span><span class="n">tables</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="n">mysql</span><span class="p">:</span><span class="w"> </span><span class="n">mysql_data</span><span class="p">,</span><span class="w"> </span><span class="n">influx</span><span class="p">:</span><span class="w"> </span><span class="n">influx_data</span><span class="err">}</span><span class="p">,</span>
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="k">on</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="ss">"idsensor_component"</span><span class="p">]</span>
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="p">)</span>
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="o">|&gt;</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="n">fn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="err">{</span>
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">    </span><span class="n">_time</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_time</span><span class="p">,</span>
</span><span id="__span-10-7"><a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">    </span><span class="n">_measurement</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_measurement</span><span class="p">,</span>
</span><span id="__span-10-8"><a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">    </span><span class="n">_field</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_field</span><span class="p">,</span>
</span><span id="__span-10-9"><a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">    </span><span class="n">_value</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">_value</span><span class="p">,</span>
</span><span id="__span-10-10"><a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">    </span><span class="n">idsensor_component</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">idsensor_component</span><span class="p">,</span>
</span><span id="__span-10-11"><a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="w">    </span><span class="n">locationName</span><span class="p">:</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">locationName</span>
</span><span id="__span-10-12"><a href="#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="err">}</span><span class="p">))</span>
</span><span id="__span-10-13"><a href="#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="o">|&gt;</span><span class="w"> </span><span class="n">yield</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="ss">"combined_data"</span><span class="p">)</span>
</span></code></pre></div>
<p>Dies verbindet die MySQL-Daten (<code>mysql_data</code>) mit den InfluxDB-Daten (<code>influx_data</code>) basierend auf dem Feld <code>idsensor_component</code>:</p>
<ol>
<li><code>join</code>: Kombiniert die beiden Datensätze basierend auf <code>idsensor_component</code>.</li>
<li><code>map</code>: Stellt sicher, dass die resultierenden Datenfelder aus beiden Datensätzen enthalten, speziell <code>_time</code>, <code>_measurement</code>, <code>_field</code>, <code>_value</code>, <code>idsensor_component</code> und <code>locationName</code>.</li>
<li><code>yield</code>: Gibt die verbundenen Daten zur finalen Überprüfung aus.</li>
</ol>
<p>Durch diese Schritte stellen wir sicher, dass das Feld <code>locationName</code> aus MySQL korrekt mit den Zeitreihendaten aus InfluxDB zusammengeführt wird, sodass es im Data Explorer sichtbar wird.</p>
</details>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: UE11-03 Option" class="md-footer__link md-footer__link--prev" href="../ue11-03/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                UE11-03 Option
              </div>
</div>
</a>
<a aria-label="Next: LE12 - NoSQL-Datenbanken" class="md-footer__link md-footer__link--next" href="../../le12/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                LE12 - NoSQL-Datenbanken
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      2024 © Thomas Jäggi, Berne University of Applied Sciences - Berner Fachhochschule - BFH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://www.linkedin.com/in/thomas-j%C3%A4ggi-026350141/" rel="noopener" target="_blank" title="www.linkedin.com">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.06 2.06 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065m1.782 13.019H3.555V9h3.564zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.indexes", "navigation.top", "content.code.copy", "content.action.edit", "content.action.view", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
<script src="../../javascripts/katex.js"></script>
<script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
<script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>